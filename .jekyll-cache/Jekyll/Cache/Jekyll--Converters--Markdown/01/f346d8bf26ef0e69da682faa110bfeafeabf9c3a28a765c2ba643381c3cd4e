I"0<h2 id="semantischlogische-produktkategorien">Semantisch/logische Produktkategorien</h2>

<p>Im Zuge einer neuen Kundenanforderung haben wir im Bereich der
Produktkategorien eine Umstellung durchgeführt:</p>

<p>Der Kunde wünschte sich, Produkte, nach Kriterien, die in seinem ERP
hinterlegt sind, zusammenfassen zu können, etwa alle Produkte aus einer
Kategorien und ihren Unterkategorien im ERP.</p>

<p>Wir haben bislang derartige Sonderwünsche explizit im Importjob
berücksichtigt, in dem wir die entsprechenden Abfragen in der
ERP-Schnittstelle implementiert haben. Das hatte allerdings zur Folge,
dass jede Änderung eine Änderung im Code und damit eine Intervention von
uns benötigt hat.</p>

<p>Nun haben wir ein weiteres Attribut in der Produktkategorie eingeführt,
mit der vom Produktmanager des Kunden eine logische Bedingung hinterlegt
werden kann, die im Importjob evaluiert und berücksichtigt wird.</p>

<p>So sucht</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(preisdatumVON &lt;= Time.now) &amp; (preisdatumBIS &gt;= Time.now)
</code></pre></div></div>

<p>etwa nach Aktionen,</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(artikeluntergruppe &lt;= '00060-00090-00090-00000-00000') &amp; (artikeluntergruppe &gt;= '00060-00090-00000-00000-00000')
</code></pre></div></div>

<p>nach Artikeln in gewissen Artikelgruppen oder</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kennzeichen == 'S'
</code></pre></div></div>

<p>nach besonders gekennzeichneten Artikeln im ERP. Die hier zu verwendende
Abfragesprache ähnelt SQL und stammt aus dem <a href="https://github.com/activerecord-hackery/squeel">Squeel
Gem</a>. Wir geben auf
diese Weise nicht beliebige SQL Konstrukte frei, sondern erlauben nur
Lesezugriffe in der ERP-Datenbank.</p>

<p>Weiters kennzeichnen wir Kategorien nun semantisch in der Datenbank, ob
es sich um eine einfache Kategorie, eine mit Squeel-Bedingung, die
Kategorie der Aktionen oder etwa eine Mercator-Systemkategorie handelt.
Ein Beispiel für die letzte Gruppe sind die “Waisen”, in der per Job
Produkte gesammelt werden, die keiner anderen Kategorie zugeordnet sind
oder nicht zugeordnet werden können.</p>

<h3 id="semantische-kategorienkennzeichnung">Semantische Kategorienkennzeichnung</h3>

<hr />

<p><img src="/img/blog/semantische_kategorien.png" alt="Semantische Kategorien" style="max-width: 100%" /></p>
<hr />

<h2 id="diverses">Diverses</h2>

<ul>
  <li>Wir haben gelernt, dass Truetypeschriften (.ttf) ein
Berechtingungskonzept kennen. Schriften können als nicht für den
Download lizenziert gekennzeichnet werden. Das verhindert im
Microsoft Internet Explorer den Download während sich Mozilla
Firefox und Google Chrome nicht daran halten.</li>
  <li>Der Importjob für Kategorien aus dem Mercator-Legacy-Importer wurde
um einen Importjob in der ERP-Schnittstelle
Mercator-Mesonic ergänzt.</li>
  <li>Im Bereich SEO haben wir eine Verbesserung durchgeführt, Webseiten
im CMS können nun beschlagwortet werden.</li>
</ul>
:ET