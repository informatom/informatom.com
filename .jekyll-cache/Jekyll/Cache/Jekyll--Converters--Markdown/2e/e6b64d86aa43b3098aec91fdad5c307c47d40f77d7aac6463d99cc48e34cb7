I"Æ<p>Dieser Artikel ist eine Erweiterung und Erg√§nzung zu FIXME!
Blindentaugliches WLAN-Radio</p>

<p>Diesmal geht es einem Sony VPC11S1E an den Kragen. Ein etwas
merkw√ºrdiges Ger√§t, was einige Komponenten angeht. So booten viele neue
Distributionen √ºberhaupt nicht mehr, Grub l√§sst sich oftmals auf der
verbauten SSD nicht installieren, etc.</p>

<p>Die Basis bildet Ubuntu Server 11.10: Download der CD, mittels
Unetbootin auf einen USB-Stick und auf die lokale
Platte installieren.</p>

<p>Zun√§chst schreibt die Standardinstallation den Bootsektor auf den
USB-Stick, das muss behoben werden, anschlie√üend Aktualisierung und
Aufr√§umen</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo grub-install /dev/sda
sudo apt-get update
sudo apt-get autoremove
sudo apt-get autoclean
</code></pre></div></div>

<p>Medibuntu Repository hinzuf√ºgen</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo -E wget --output-document=/etc/apt/sources.list.d/medibuntu.list http://www.medibuntu.org/sources.list.d/$(lsb_release -cs).list
sudo apt-get --quiet update
sudo apt-get --yes --quiet --allow-unauthenticated install medibuntu-keyring
sudo apt-get --quiet update
sudo apt-get dist-upgrade
</code></pre></div></div>

<p>Installation ssh-Server mp3 Codec, automatischen Consolen-Login erm√∂glichen</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install openssh-server lame rungetty console-terminus
sudo apt-get install pm-utils libconsole mplayer alsa-utils w32codecs
sudo apt-get remove plymouth-theme-ubuntu-text
</code></pre></div></div>

<p>in <code>/etc/init/tty1.conf</code></p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plymouth-theme-ubuntu-text
exec /sbin/getty -8 38400 tty1
</code></pre></div></div>

<p>ersetzen durch</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>exec /sbin/rungetty --autologin USERNAME tty1
</code></pre></div></div>

<ul>
  <li>Am Ende von /home/BENUTZERNAME/.profile</li>
</ul>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /media/sd
./radio.py
</code></pre></div></div>

<p>hinzuf√ºgen.</p>

<p>mp3-Sprachfiles und radio.py nach /var/radio kopieren und verrechten:
<a href="/materials/blindradio2.zip">.zip-Archiv</a></p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir /var/radio
chown -r BENUNTZERNAME radio
</code></pre></div></div>

<p>Plymouth loswerden, dazu Paketquellen in <code>/etc/apt/sources.list</code> hinzuf√ºgen.</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>deb http://ppa.launchpad.net/dtl131/mediahacks/ubuntu oneiric main
deb-src http://ppa.launchpad.net/dtl131/mediahacks/ubuntu oneiric main

apt-get update
apt-get dist-upgrade
apt-get remove plymouth
</code></pre></div></div>

<p>Wireless Konfiguration:</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install wpa-supplicant wireless-tools
</code></pre></div></div>

<p>Erstellen einer <code>/etc/wpa-supplicant/wpa-supplicant.conf</code></p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ctrl_interface=/var/run/wpa_supplicant
eapol_version=1
# 1: wpa_supplicant k√ºmmert sich um das Scannen von Netzen und die AP-Auswahl.
ap_scan=1

network={
        ssid=\"SSID\"
        scan_ssid=1
        proto=WPA
        key_mgmt=WPA-PSK
        pairwise=CCMP
        group=TKIP
        psk=\"SCHL√úSSEL\"
}
</code></pre></div></div>

<p>Update der <code>/etc/network/interfaces</code> - Auskommentieren von eth0</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># WLAN
auto wlan0
iface wlan0 inet dhcp
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre></div></div>

<p>Herunterfahren mittels Power-Knopf</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install acpid
</code></pre></div></div>

<p>F√ºr Mplayer IP6 verhindern: Am Ende von <code>/etc/mplayer/mplayer.conf</code>
sowie in <code>~/.mplayer/config</code> des ausf√ºhrenden Users</p>

<!-- -->
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prefer-ipv4 = yes
</code></pre></div></div>
:ET