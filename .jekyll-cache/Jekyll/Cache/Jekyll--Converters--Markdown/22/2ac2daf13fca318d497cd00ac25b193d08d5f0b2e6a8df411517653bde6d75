I" <h2 id="vertragswesen">Vertragswesen</h2>

<p>In dieser Woche haben wir das Vertragswesen auf eine Single Page App
umgestellt.</p>

<p>Damit werden je nach Auswahl Seitenelemente ein- und wieder
ausgeblendet, stets hat man dabei die √úbersicht, in welchem Vertrag,
welcher Position bzw. welchem Verbrauch man sich gerade befindet.</p>

<p>Wir sind nun in der Lage, Aktionen zu definieren und clientseitig zu
handeln oder Datens√§tze zu kennzeichnen, etwa, wenn sie ‚Äòdirty‚Äô, also
vom Vertriebsmitarbeiter ge√§ndert sind, er aber noch nicht die
Speicherung auf den Server veranlasst hat. Wir k√∂nnen Datens√§tze
asynchron am Server anlegen, aktualisieren und auch wieder l√∂schen, kurz
alles, was f√ºr Single Page Apps relvant ist.</p>

<p>Prinzipiell k√∂nnten wir damit auch andere Frontendteile von Mercator als
clientseitige Applikationen implementieren und von den Vorteilen, die
wir im Vertragswesen genie√üen, profitieren:</p>

<ul>
  <li>Extrem schnelle Responses, z.B. Positionsneuanlagen von unter 200ms
Roundtrip vom Browser zum Server, Verarbeitung am Server und wieder
Response zum Client. Und das gelingt bei einer Daten√ºbertragung von
weniger als 2kB.</li>
  <li>Sehr flexible Userinterfaces, die komplexe Rechenvorg√§nge erlauben,
ohne permanent am Server Neuberechnungen gr√∂√üerer Datenmengen
durchf√ºhren zu m√ºssen. (W√§hrend der Client sich seinen Status merkt
und daher nur √Ñnderungen gerechnet werden m√ºssen, ist der Status der
Applikation eines Servers zustandslos. Das bedeutet, es muss bei
jedem Request wieder die gesamte Datenumgebung zur Kalkulation des
Vertrages geladen und errechnet werden.)</li>
  <li>Auslagerung von Rechenlast vom Server zum Client</li>
  <li>viele weitere Vorteile, die wir hier nicht aufz√§hlen, finden Sie in
unserer Pr√§sentation zu Ember unter <a href="http://at.mittenin.at/36">http://at.mittenin.at/36</a></li>
</ul>

<p>Dabei d√ºrfen aber auch die Nachteile nicht vernachl√§ssigt werden:</p>

<ul>
  <li>Erheblicher Implementierungsaufwand</li>
  <li>Erheblicher Lernaufwcand</li>
  <li>Der Download des gesamten Frameworks inklusive Applikationslogik
beim ersten Request: Auf Produktivsystemen sind dies immerhin 330
KB, die wir aber noch durch serverseitige Komprimierung
verringern k√∂nnen.</li>
  <li>Bislang haben wir nur eine Komponente umgestellt, die die
Vertriebsmitarbeiter betrifft, nicht die Kunden im Webshop. Das
bedeutet, es handelt betrifft nur die Rechner, die in unmittelbaren
Zugriff des Betreibers des Webshops stehen. Das hei√üt insbesondere,
dass ein Webbrowser oder zumindest eine Version vorgegeben
werden k√∂nnte. Das w√§re bei Kundenrechnern nicht der Fall, womit
wesentlich umfangreichere Browsertests n√∂tig w√ºrden.</li>
  <li>Die Validierung (G√ºltigkeit bez√ºglich Inhalt und Form) von Daten,
die Authentifizierung (Echtheits√ºberpr√ºfung) und die
Authorisierungslogik (Berechtigungs√ºberpr√ºfung) muss ohnehin am
Server implementiert werden.</li>
</ul>

<p>Damit sieht es derzeit nicht so aus, als w√ºrden wir in n√§chster Zeit
einen weiteren Teil des Frontends umstellen.</p>

<h3 id="das-vertragswesen-als-single-page-app">Das Vertragswesen als Single Page App</h3>

<hr />

<p><img src="/img/blog/single-page.png" alt="single page app" style="max-width: 100%" /></p>
<hr />

:ET